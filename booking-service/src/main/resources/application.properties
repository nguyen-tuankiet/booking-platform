spring.application.name=booking-service
server.port=8082

# Disable JPA auto-configuration since we only use MongoDB
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration

# ========== Eureka Configuration ==========
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.fetch-registry=true
eureka.client.register-with-eureka=true
eureka.instance.prefer-ip-address=true




# MongoDB
spring.data.mongodb.uri=mongodb+srv://tuankietcoder2211:kiet2211@booking-service.xoqbdpp.mongodb.net/?retryWrites=true&w=majority&appName=booking-service
spring.data.mongodb.database=booking-service
spring.data.mongodb.auto-index-creation=true

# Redis Configuration
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=
spring.data.redis.timeout=60000
spring.data.redis.jedis.pool.max-active=8
spring.data.redis.jedis.pool.max-idle=8
spring.data.redis.jedis.pool.min-idle=0

# Kafka Configuration
spring.kafka.bootstrap-servers=localhost:9092
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.acks=all
spring.kafka.producer.retries=3
spring.kafka.producer.properties.enable.idempotence=true

spring.kafka.consumer.group-id=booking-service
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=*

# JWT Configuration
jwt.secret=in8roOCvJUSjXDse/fo4UNznTOrbw9z1Yml9wiJ/ItI/+Bxe8ju6VLLm8GamJYDajKK87lZJYBviPqAFaweV7g==
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# Booking Configuration
booking.seat-lock-timeout=300
booking.max-concurrent-bookings=10
booking.auto-release-expired-bookings=true
booking.booking-expiry-minutes=15

# External API Configuration
external-api.flight-search.base-url=http://localhost:8090
external-api.flight-search.timeout=30000
external-api.vietnam-airlines.base-url=https://api.vietnamairlines.com
external-api.vietjet.base-url=https://api.vietjet.com

# Auth Service Configuration (for email notifications)
services.auth-service.url=http://localhost:8081

# Logging Configuration
logging.level.com.booking.booking=DEBUG
logging.level.org.springframework.kafka=INFO
logging.level.org.springframework.data.mongodb=DEBUG

# Management Endpoints
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.prometheus.metrics.export.enabled=true

app.booking.seat-lock-duration=15
